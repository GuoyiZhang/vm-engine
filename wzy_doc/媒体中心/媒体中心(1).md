#媒体中心
##接口
##附件上传
<span id = "uploadEnclosure"></span>
###接口：
	/**
     * 附件上传
     *
     * @param uid
     * @return
     */
	String uploadEnclosure(Long uid, 
								   String fileName, 
								   Byte[] fileContent) 
									 
	
###请求示例:
+ uid : 

		21
		
+ fileName :

		 抢劫1元钱判4年，后悔不.docx
		 
+ fileContent :

		 hahhahhahhaha

###响应：
		{
		    "code":0,
		    "data":{
		        "enclosureUrl":"www.wzy.com/download/212121.doc"
		    },
		    "msg":"Success"
		}
				
##媒体稿件创建
<span id = "createMediaArticle"></span>
###接口：
	/**
     * 媒体稿件创建
     *
     * @param uid
     * @param dataString
     * @return
     */
	String createMediaArticle(Long uid, String dataString) 
									 
	
###请求示例:
+ uid : 

		21
+ dataString :

		 {
			"articleTitle":0,
			"enclosureUrl":"www.wzy.com/download/212121.doc"
		}

###响应：
		{
		    "code":0,
		    "data":{
		        "articleId":1
		    },
		    "msg":"Success"
		}
		
		

		
##媒体渠道申请
<span id = "applyForMediaChannel"></span>
###接口：
	/**
     * 媒体申请
     *
     * @param uid
     * @param mediaName
     * @return
     */
	String applyForMediaChannel(Long uid, Stirng mediaName) 
									 
###请求示例:
+ uid : 

		21
+ mediaName :

		 新华日报

###响应：
		{
		    "code":0,
		    "data":{
		        "applyForMediaChannel":true
		    },
		    "msg":"Success"
		}
		
##媒体渠道新增
<span id = "addMediaChannel"></span>
###接口：
	/**
     * 媒体新增
     *
     * @param uid
     * @param dataString
     * @return
     */
	String addMediaChannel(Long uid, Stirng dataString) 
									 
###请求示例:
+ uid : 

		21
+ dataString :

		{
			"mediaName":"新浪新闻",
			"mediaAmout":21,
			"mediaTagIds":[1,2,3,4,5],
			"digest":"hhhhhhhhhhh"
		}
###响应：
		{
		    "code":0,
		    "data":{
		        "mediaId":150
		    },
		    "msg":"Success"
		}
		
##媒体渠道查询
<span id = "getMediaChannel"></span>
###接口：
	/**
     * 新增媒体
     *
     * @param uid
     * @param queryString
     * @param pageString
     * @return
     */
	String getMediaChannel(Long uid, Stirng queryString, String pageString) 
									 
###请求示例:
+ uid : 

		21
+ queryString :

		{
			"mediaTagIds":[1,2,3,4,5],
			"mediaStatus":0
		}

+ pageString :

		{
			"start":0,
			"size"10,
			"orderBy":"create_time",
			"orderType":"DESC",
			"keyWord":"ssdssd"
		}
###响应：
		{
		    "code":0,
		    "data":{
		        "total":3,
		        "list":[
		            {
		                "medieId":150,
		                "medieStatus":1,
		                "mediaName":"新浪新闻",
		                "mediaAmout":21,
		                "digest":"hhhhhhhh"
		            },
		            ...
		        ]
		    },
		    "msg":"Success"
		}	
		
##媒体渠道更新
<span id = "updateMediaChannel"></span>
###接口：
	/**
     * 新增媒体
     *
     * @param uid
     * @param dataString
     * @return
     */
	String updateMediaChannel(Long uid, Stirng dataString) 
									 
###请求示例:
+ uid : 

		21
+ dataString :

		{
			"mediaId":150,
			"mdediaName":"新浪新闻",
			"mediaAmout":220,
			"mediaTagIds":[1,4,5],
			"digest":"hhhhhhhhhhh"
		}

###响应：
		{
		    "code":0,
		    "data":{
		        "updateMediaChannel":true
		    },
		    "msg":"Success"
		}	

##媒体渠道删除
<span id = "deleteMediaChannel"></span>
###接口：
	/**
     * 媒体删除
     *
     * @param uid
     * @param mediaIds
     * @return
     */
	String deleteMediaChannel(Long uid, List<Long> mediaIds) 
									 
###请求示例:
+ uid : 

		21
+ mediaIds :

		[150,151,152]
###响应：
		{
		    "code":0,
		    "data":{
		        "deleteMediaChannel":true
		    },
		    "msg":"Success"
		}
		
##媒体渠道标签新增
<span id = "addMediaChannelTag"></span>
###接口：
	/**
     * 媒体标签新增
     *
     * @param uid
     * @param tagType
     * @param tagName
     * @return
     */
	String addMediaChannelTag(Long uid, Integer tagType, String tagName) 
									 
###请求示例:
+ uid : 

		21
+ tagType :

		0
+ tagName :

		健康医疗

###响应：
		{
		    "code":0,
		    "data":{
		        "tagId":1
		    },
		    "msg":"Success"
		}
		
##媒体渠道标签删除
<span id = "deleteMediaChannelTag"></span>
###接口：
	/**
     * 媒体标签删除
     *
     * @param uid
     * @param tagIds
     * @return
     */
	String deleteMediaChannelTag(Long uid, List<Long> tagIds) 
									 
###请求示例:
+ uid : 

		21
+ tagIds :

		[34,35,36,37]

###响应：
		{
		    "code":0,
		    "data":{
		        "deleteMediaChannelTag":true
		    },
		    "msg":"Success"
		}
		
		
##媒体标签获取
<span id = "getMediaChannelTag"></span>
###接口：
	/**
     * 媒体标签获取
     *
     * @param uid
     * @param tagTypes
     * @return
     */
	String getMediaChannelTag(Long uid, List<Integer> tagTypes) 
									 
###请求示例:
+ uid : 

		21
+ tagTypes :

		[0,1,2,3]

###响应：
		{
			"code":0,
		    "data":{
		        "total":10,
		        "list":[
		            {
		                "tagId":150,
		                "tagType":0,
		                "tagName":"健康医疗"
		            },
		            ...
		        ]
		    },
		    "msg":"Success"

		}

##媒体渠道订单提交
<span id = "commitMediaChannelOrder"></span>
###接口：
	/**
     * 媒体渠道订单提交
     *
     * @param uid
     * @param dataString
     * @return
     */
	String commitMediaChannelOrder(Long uid, 
									 Stirng dataString) 
									 
	
###请求示例:
+ uid : 

		21
+ dataString :

		 [	
		 	{
			 	"articleId":1,
			 	"mediaId":150
				]
			},
			...
		]
###响应：
		{
		    "code":0,
		    "data":{
		        "orderId":1
		    },
		    "msg":"Success"
		}		    
		
##获取媒体渠道订单
<span id = "getMediaChannelOrder"></span>
###接口：
	/**
     * 获取媒体渠道订单
     *
     * @param uid
     * @param queryString
     * @param pageString
     * @return
     */
	String getMediaChannelOrder(Long uid, 
									 Stirng queryString, 
									 String pageString) 
									 
	
###请求示例:
+ uid : 

		21
+ queryString :

		 {
			"beginTime":1512144000,
			"endTime":1512403199,
			"transactionId":1
		}

+ pageString :

		{
			"start":0,
			"size"10,
			"orderBy":"create_time",
			"orderType":"DESC",
			"keyWord":"ssdssd"
		}
###响应：
		{
		    "code":0,
		    "data":{
		        "total":3,
		        "list":[
		            {
		                "transactionId":1,//交易号
		                "artilceTitle":"你好",//文章标题
		                "enclosureUrl":"www.wzy.com/download/212121.doc",//附件下载地址
		                "items":[
		            			{
		                			"mediaName":"媒体名称",//媒体名称
									"mediaAmout":"30",//金额
		                			"orderStatus":1,//订单状态
		                			"articleUrl":"www.sina.com/sport/index/1",//发布链接
		                			"publishTime":"发布时间",//时间
		                		},
		                		...
		            },
		            ...
		        ]
		    },
		    "msg":"Success"
		}	
		
##交易记录查询
<span id = "getTransactionRecord"></span>
###接口：
	/**
     * 交易记录查询
     *
     * @param uid
     * @param queryString
     * @param pageString
     * @return
     */
	String getTransactionRecord(Long uid, 
									 Stirng queryString, 
									 String pageString) 
									 
	
###请求示例:
+ uid : 

		21
+ queryString :

		 {
			"transactionType":0,
			"beginTime"1512144000,
			"endTime"1512403199,
			"transactionStatus":1
		}

+ pageString :

		{
			"start":0,
			"size"10,
			"orderBy":"create_time",
			"orderType":"DESC",
			"keyWord":"ssdssd"
		}
###响应：
		{
		    "code":0,
		    "data":{
		        "total":3,
		        "list":[
		            {
		                "transactionId":1,//交易号
		                "transactionType":0,//交易类型
		                "transactionStatus":1,//交易状态
		                "transactionTime":"2017-12-23 11:23:11",//交易时间
		                "transactionAmout":30,//交易金额
		                "digest":"你好"///备注
		            }
		        ]
		    },
		    "msg":"Success"
		}	
		
		
		
##数据库设计
###交易记录表
* 表名

		wzy_transaction_record

* 字段
		
		字段 | 描述 | 类型
		----|------|----
		id |  id  | int
		create_time | 创建时间  | int
		update_time | 更新时间  | int
		is_delete| 是否删除 0-否，1-是|tinyint
		uid | 用户id | int
		transaction_type | 交易类型 | tinyint
		transaction_status | 交易状态 | tinyint
		transaction_time | 交易时间 | int
		transaction_amout | 交易金额 | double
		digest | 备注 | string
		
###媒体渠道订单表
* 表名

		wzy_media_channel_order

* 字段
		
		字段 | 描述 | 类型
		----|------|----
		id |  id  | int
		create_time | 创建时间  | int
		update_time | 更新时间  | int
		is_delete| 是否删除 0-否，1-是|tinyint
		uid | 用户id | int
		article_id | 文章id | int
		transaction_id | 交易号 | int
		media_id | 媒体id | int
		media_name | 媒体名称 | int
		media_amout | 媒体金额 | double
		order_status | 订单状态 | tinyint
		order_time | 订单时间 | int
		digest | 备注 | string
		
###媒体文章表
* 表名

		wzy_media_article

* 字段
		
		字段 | 描述 | 类型
		----|------|----
		id |  id  | int
		create_time | 创建时间  | int
		update_time | 更新时间  | int
		is_delete| 是否删除 0-否，1-是|tinyint
		uid | 用户id | int
		title | 标题 | string
		enclosure_url | 附件url | string	
		digest | 备注 | string

		
###媒体渠道表
* 表名

		wzy_media_channel

* 字段
		
		字段 | 描述 | 类型
		----|------|----
		id |  id  | int
		create_time | 创建时间  | int
		update_time | 更新时间  | int
		is_delete| 是否删除 0-否，1-是|tinyint
		media_name | 媒体名称 | string
		media_status | 媒体状态 | tinyint	
		media_amount | 媒体金额 | double
		digest | 备注 | string
		
###媒体渠道标签表
	* 表名

		wzy_media_channel_tag

* 字段
		
		字段 | 描述 | 类型
		----|------|----
		id |  id  | int
		create_time | 创建时间  | int
		update_time | 更新时间  | int
		is_delete| 是否删除 0-否，1-是|tinyint
		group_type | 分组类型 | tinyint
		group_name | 分组名称 | string	
		tag_name | 标签名称 | string
		
###媒体渠道标签关联表
	* 表名

		wzy_media_channel_tag_relation

* 字段
		
		字段 | 描述 | 类型
		----|------|----
		id |  id  | int
		create_time | 创建时间  | int
		update_time | 更新时间  | int
		is_delete| 是否删除 0-否，1-是|tinyint
		tag_id | 标签id | int
		media_id | 媒体id | int
		
###媒体申请表
	* 表名

		wzy_media_apply_for

* 字段
		
		字段 | 描述 | 类型
		----|------|----
		id |  id  | int
		create_time | 创建时间  | int
		update_time | 更新时间  | int
		is_delete| 是否删除 0-否，1-是|tinyint
		uid | 用户id | int
		media_name | 媒体名称 | string


		

		